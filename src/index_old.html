
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Dup4 - Home</title>
    <!-- <script type="text/javascript">
        var insText = "&nbsp;";
        var picData = "R0lGODlhFAATAHQAACH/C05FVFNDQVBFMi4wAwEAAAAh/jNDcmVhdGVkIHdpdGggdGhlIFdvbGZy\
        YW0gTGFuZ3VhZ2UgOiB3d3cud29sZnJhbS5jb20AIfkEAAMAAAAsAAAAABQAEwCEQEBAQkJCRUVF\
        SEhIS0tLU1NTV1dXYmJiaWlpb29vfX19hYWFjY2Nm5uboqKisbGxuLi4wMDAz8/P1dXV3Nzc5ubm\
        6+vr8PDw9vb2+fn5/Pz8/v7+////AAAAAAAAAAAABUggIALExZ1omo4io74oK1LwKwNJrd5ApMc3\
        Q+bH4QEcRCPB8jMCFk3nROcEIKhVSK0KKGBgXEADzBVUbGEFOizZhQEH9/uRCgEAIfkEAAMAAAAs\
        AAAAABQAEwCEQEBAQkJCRERESUlJTU1NUVFRWlpaYGBgZmZmbGxscnJye3t7iYmJkJCQmJiYpqam\
        rq6utra2xMTEzMzM2NjY3t7e5OTk7e3t8fHx9fX1+vr6/Pz8/v7+////AAAAAAAABUJgJ45kaZ5o\
        qq6smFBtCQDMFYszMDxanM8GSeuXU1RWxF8Dk0r+CBCUk3iYmKbJhYWETQocGVw3WYh0xlMEes1u\
        J0MAIfkEAAMAAAAsAAAAABQAEwCAQEBA////AhqMj6nL7Q+jnLTa64DevPsPhuJIluaJpmpYAAAh\
        +QQAAwAAACwAAAAAFAATAIRAQEBCQkJERERJSUlNTU1RUVFaWlpgYGBmZmZycnJ7e3uJiYmQkJCZ\
        mZmnp6eurq62trbExMTMzMzT09PY2Nje3t7k5OTt7e3x8fH19fX6+vr8/Pz+/v7///8AAAAAAAAF\
        QWAnjmRpnmiqrmyLUu54LUCsOQNQt5Gh66xK4vdTYRhEYupBSCpNkoMzWbIops5RpiHAZjuQgnc6\
        QYzP6LR6/QsBACH5BAADAAAALAAAAAAUABMAhEBAQEJCQkVFRUhISEtLS1NTU1dXV2JiYmlpaW9v\
        b319fYWFhY2NjZubm6KiorGxsbi4uMDAwM/Pz9XV1dvb2+bm5uvr6/Dw8Pb29vn5+fz8/P7+/v//\
        /wAAAAAAAAAAAAVIICeOZHkRQFquJJOq7Eq9cEwmNGCTUa7vnIzBB+Q4fD+bBUXcLZBJ1gQaXSGo\
        Ngi1OsIUtrHGlsupCMYsxZgrWXMP7tLDDQgBACH5BAADAAAALAAAAAAUABMAgUBAQJ+fn////wAA\
        AAIrlI8By4wvVGswTVqNvCBrvngR2HnbJZ5TSrKgy8Go2dKvHeNzpmJ8/QMVAAAh+QQAAwAAACwA\
        AAAAFAATAIRAQEBCQkJFRUVISEhOTk5TU1NYWFhiYmJpaWlvb29+fn6GhoaNjY2cnJyjo6OxsbG5\
        ubnBwcHPz8/V1dXc3Nzn5+fr6+vz8/P29vb5+fn8/Pz+/v7///8AAAAAAAAAAAAFSCAnchcBnGia\
        juKjvigrHvArc1Kt3pyix7eK4AfgcRpEI6bwM3IgTSdC5+RMqNVFrcqxDGBcjgPMzRhs4Qg6nNiF\
        ORT3m5EKAQAh+QQAAwAAACwAAAAAFAATAIRAQEBCQkJERERJSUlNTU1RUVFaWlpgYGBmZmZycnJ6\
        enqIiIiQkJCXl5elpaWurq61tbXDw8PMzMzS0tLY2Nje3t7k5OTt7e3x8fH19fX6+vr8/Pz+/v7/\
        //8AAAAAAAAFQiAgjmRpnmiqrqw4IW3JcVARizOXNUKczxZF65eTHFbE34OQSv4wDJSTWEmYpsmI\
        gYRNahwDXDd5WQDGUwp6zW4nQwAh+QQAAwAAACwAAAAAFAATAIBAQED///8CGoSPqcvtD6OctNrr\
        gt68+w+G4kiW5ommalgAACH5BAADAAAALAAAAAAUABMAhEBAQEJCQkRERElJSU1NTVFRUVpaWmBg\
        YGZmZmtra3Jycnp6eoiIiJCQkJeXl6Wlpa6urrW1tcPDw8zMzNjY2N7e3uTk5O3t7fHx8fX19fr6\
        +vz8/P7+/v///wAAAAAAAAVBICCOZGmeaKqubIsi7lhEXCw4GVe3i6XrrMPk91MRIERiynFJKk2K\
        ijNZMkimztHgocFmAYym15mgjM/otHr9CwEAIfkEAAMAAAAsAAAAABQAEwCEQEBAQkJCRUVFSEhI\
        Tk5OU1NTWFhYYmJiaWlpb29vfn5+hoaGjY2NnJyco6OjsbGxubm5wcHBz8/P1dXV3Nzc5+fn6+vr\
        8/Pz9vb2+fn5/Pz8/v7+////AAAAAAAAAAAABUggII5kSVxcWq7kk6rserxwTEo0Z5NKru8AQcUH\
        BDR8P1sBgwRCkEkWAhpdTai2BbU6Gli2MceWCzBkxqzImJtYcynuEsPNCQEAIfkEAAMAAAAsAAAA\
        ABQAEwCAQEBA////AiaEj6HL6MBieEkueuzFUE/ufVjIdVpJgh66qqdrse/Y0jOV2jEsFQA7";

        function fill(td, command)
        {
            var target = document.getElementById("td" + td);
            var color = command.split(" ")[0];
            var timestamp = parseFloat(command.split(" ")[1]);
            var currentTimestamp = parseFloat(target.dataset.timestamp);
            if (color == 2) target.style.backgroundImage = "url(data:image/gif;base64," + picData + ")";
            else if (color == "3") target.style.backgroundImage = "";
            else if (target.style.backgroundImage == "" && timestamp >= currentTimestamp)
            {
                if (color == "0") target.bgColor = "#FFFFFF";
                else if (color == "1") target.bgColor = "#404040";
                target.dataset.timestamp = timestamp;
            }
        }

        function getXMLHttpRequest()
        {
            var xmlHttp = null;
            try {
                xmlHttp = new XMLHttpRequest();
            }
            catch (e) {
                try {
                    xmlHttp = new ActiveXObject("Msxml2.XMLHTTP");
                }
                catch (e) {
                    xmlHttp = new ActiveXObject("Microsoft.XMLHTTP");
                }
            }
            return xmlHttp;
        }

        function inverse(td)
        {
            if (document.getElementById("td" + td).style.backgroundImage==""){
                var xmlhttp = getXMLHttpRequest();
                xmlhttp.onreadystatechange = function(){
                    if (xmlhttp.readyState == 1) fill(td, "2 0");
                    else if (xmlhttp.readyState == 4){
                        if (xmlhttp.status == 200){
                            fill(td, "3 0");
                            fill(td, xmlhttp.responseText)
                        }
                    }
                }
                xmlhttp.open("GET", "change.php?ID=" + td, true);
                xmlhttp.setRequestHeader("If-Modified-Since", "0");
                xmlhttp.send("");
            }
        }

        function freshGrid(data)
        {
            timestamp = data.split("#")[1];
            for(var i = 1; i <= 400 ; i++)
                fill(i, data.charAt(i - 1) + " " + timestamp);        
            window.clearInterval(timer1);
        }

        function loading()
        {
            if (loadingGrid == 0) {
                for (var i = 1; i <= 13; i++) fill(i, "1 0");
                    loadingGrid = 1;
            }
            else {
                fill(loadingGrid, "0 0");
                fill((loadingGrid + 12) % 400 + 1, "1 0");
                loadingGrid = loadingGrid + 1;
                if (loadingGrid > 400) loadingGrid = 1;
            }
        }
    </script> -->

    <style type="text/css">
        body {
            background-color: #FFFFFF;
            margin-top: 2px;
            margin-left: 20px;
            font-size: 12px;
            color: #404040;
            font-family: helvetica, tahoma;
        }
        table {
            width: 552px;
            height: 338px;
            border: 0px;
        }
        td {
            background-repeat: no-repeat;
            background-position: center center;
        }

        a {font-family: 'Helvetica Neue', 'Helvetica', Arial, 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;
        font-size: 14px; text-decoration: none; margin-left: 20px; }
        a, a:visited { color: #0075c9; }
        a:hover, a:focus, a:active { color: #009bdf; }
        a.love, a.love:visited { color: #f73c42; }
        a.love:hover, a.love:focus, a.love:active { color: #f86267; }
    </style>
</head>

<body>

    <!-- http://www.matrix67.com/blog/archives/6039#more-6039 -->
    <!-- https://codegolf.stackexchange.com/questions/35569/tweetable-mathematical-art?page=1&tab=votes#tab-top -->
    <!-- https://www.cnblogs.com/daishuo/p/3954422.html -->

<!--         <canvas id = 'canvas' style='width:1024px;height:1024px;'></canvas>

        <script type="text/javascript">

            var DIM = 1024;
            var DM1 = DIM - 1;
            var Ci = DIM / 2;
            var Cj = Ci;
            var Z = (Ci / 2);
            var G = (Ci / 8);
            var N = 3;

            function _sq(x) { return x * x; }
            function _cb(x) { return Math.abs(x * x * x); }
            function _cr(x) { return Math.pow(x, 1.0 / 3.0); }
            function Y(x) { return Math.sqrt(1.0 - _sq(x)); }

            // console.log(_sq(2), _cb(-1), _cr(27));

            function RD(i, j) {
                return BL(i, j);
            }

            function GR(i, j) {
                return BL(i, j);
            }

            function BL(i, j) {
                if (i > 10 && j > 10) return 255;
                return 0;
                if (i % n < n / 2 && j % n < n / 2) return 0;
                else return 255;
                if (i % 2 == 0) return 0;
                else return 255;
                if ((i + j) % 2 == 0) {
                    return 0;
                } else {
                    return 255;
                }
                //return 0;
                var r = Math.sqrt(0.0 + _sq(i - Ci) + _sq(j - Cj));
                var s = r / Z;
                if (s < 1) {
                    i -= Ci;
                    j -= Cj;
                    var k = (Y(s) * Y(s / N) + _sq(s) / N) * N;
                    i = i / k + Ci;
                    j = j / k + Cj;
                }
                return (i / G + j / G) % 2 * 255;
            }

            var c = document.getElementById("canvas");
            var ctx = c.getContext("2d");
            var imgData = ctx.createImageData(DIM,DIM); 
            console.log(imgData.data.length);
            var pos = 0;
            for (var i = 0; i < DIM; i += 1) {
                for (var j = 0; j < DIM; j += 1) {
                    imgData.data[pos + 0] = RD(i, j);
                    imgData.data[pos + 1] = GR(i, j);
                    imgData.data[pos + 2] = BL(i, j);
                    imgData.data[pos + 3] = 255;
                    pos += 4;
                }
            }
            // for (var i = 0; i < imgData.data.length; i += 4) {
            //     imgData.data[i+0]=255;
            //     imgData.data[i+1]=0;
            //     imgData.data[i+2]=0;
            //     imgData.data[i+3]=255;
            // }
            ctx.putImageData(imgData,0,0);
        </script> -->


    <div style="height: 500px; padding-top: 420px; position: absolute; left: 50%; width: 600px; margin-left: -300px;">
        <!-- <table id="grid">
            <script type="text/javascript">
                var tdid = 0;
                for(var i = 1; i <= 16; i++){
                    document.write("<tr>")
                    for(var j = 1; j <= 25; j++){
                        tdid = (i - 1) * 25 + j;
                        document.write("<td id=\"td" + tdid.toString() + "\" data-timestamp=\"0\" onclick=\"inverse(" + tdid.toString() + ")\" />");
                    }
                    document.write("</tr>");
                }
                var loadingGrid = 0;
                var timer1 = window.setInterval("loading()", 80);
                // var evtSource = new EventSource("get_state.php");
                evtSource.onmessage = function(e) {
                    freshGrid(e.data.split("\n").join(""));
                }
            </script>
        </table> -->
        <p>
            <a href="https://dup4.cn" target="_blank" style="margin-left: 0px">INDEX</a>
            <a href="https://blog.dup4.cn" target="_blank" style="margin-left: 5px">BLOG</a>
            <a href="https://wi-ki.top" target="_blank" style="margin-left: 5px">WI-KI</a>
            <a href="https://wi-ki.top/team/1/archives/details/0" target="_blank" style="margin-left: 5px">TI1050</a>
        </p>
        <hr>
        <p>
            Copyright &copy 2020, All rights reserved. @Dup4.
        </p>
        <div id = "beian" style="width:420px;margin:0 auto; padding:20px 0;">
		 	<a target="_blank" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=33011002014588" style="display:inline-block;text-decoration:none;height:20px;line-height:20px;">
                <img src="./img/gongan.png" style="float:left;"/>
                <!-- <img src="http://www.beian.gov.cn/img/new/gongan.png" style="float:left;"/> -->
                <p style="float:left;height:20px;line-height:20px;margin: 0px 0px 0px 5px; color:#939393;">浙公网安备 33011002014588号</p>
            </a>
            <a target="_blank" href="http://www.beian.miit.gov.cn/" style="display:inline-block;text-decoration:none;height:20px;line-height:20px;">
                <p style="float:left;height:20px;line-height:20px;margin: 0px 0px 0px 5px; color:#939393;">浙ICP备20011170号</p>
            </a>
        </div>
        <script type="text/javascript">
            if (["dup4.top", "www.dup4.top"].indexOf(window.location.hostname) < 0) {
                document.getElementById("beian").style.display = "none";
            }
        </script>
    </div>
</body>
</html>

